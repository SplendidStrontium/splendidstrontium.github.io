<div class="comments-section">
    <h3>Comments</h3>
    
    <!-- Display existing comments -->
    {% assign comments = site.data.comments[page.slug] %}
    {% if comments and comments.size > 0 %}
        {% assign sorted_comments = comments | sort %}
        <div class="comments-list">
            {% for comment in sorted_comments %}
                {% assign commentData = comment[1] %}
                <div class="comment" id="comment-{{ comment[0] }}">
                    <div class="comment-header">
                        <strong>{{ commentData.name }}</strong>
                        <span class="comment-date">{{ commentData.date | date: "%B %d, %Y at %I:%M %p" }}</span>
                    </div>
                    <div class="comment-body">
                        {{ commentData.message | markdownify }}
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No comments yet. Be the first to comment!</p>
    {% endif %}
    
    <!-- Comment submission form -->
    {% include staticman-comment-form.html %}
</div>